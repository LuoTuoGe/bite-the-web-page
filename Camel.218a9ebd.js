import{d as st,r as k,c as l,a as s,F as x,b as w,n as m,e as $,t as E,u as O,o as i,f as K,g as ut,p as nt,h as lt,_ as it}from"./index.ae036ab5.js";function Q(v,c,g){if(c===v.length-1){g(v);return}else for(let A=c;A<v.length;A++){const d=v[c];v[c]=v[A],v[A]=d,Q(v,c+1,g),v[A]=v[c],v[c]=d}}function U(v,c,g,A){for(let d=0;d<v.length;d++)c[g]=v[d],g===c.length-1?A(c):U(v,c,g+1,A)}const j=v=>(nt("data-v-2d3fb534"),v=v(),lt(),v),at=j(()=>s("div",{class:"container flex justify-between items-center text-lg py-2 border-b border-black"},[s("div",{class:"w-10 pl-4"},[s("span",{class:"material-icons text-lg"},"arrow_back_ios")]),K(" \u9A86\u9A7C\u54E5\u8BA1\u7B97\u5668 "),s("div",{class:"w-10"})],-1)),rt={class:"container p-4"},vt={class:"mx-auto relative"},ct=["onClick"],ft=["onClick"],dt={class:"fixed right-4 bottom-24"},pt={class:"flex flex-col items-center"},_t={class:"flex"},bt={class:"my-10 w-56 flex flex-wrap justify-center"},xt=["onClick"],yt={key:0,class:"fixed bottom-0 right-0 left-0 top-24 bg-back border-t border-black"},kt={key:0,class:"mx-6 my-2"},gt={key:1,class:"mx-6 my-2"},At={class:"my-table flex justify-center"},wt={class:"border-t border-l border-black"},mt={class:"flex"},Et={class:"item"},Ct={class:"flex"},ht={class:"item"},Bt={class:"item"},$t={key:0,class:"text-xs"},Ft=j(()=>s("div",{class:"mx-6 my-2"},"\u5361\u724C\u6536\u76CA",-1)),Dt={class:"my-table flex justify-center"},Mt={class:"flex border-t border-l border-black"},St={class:"item"},Tt={class:"mt-4 flex justify-around"},jt={key:1,class:"p-4 fixed inset-y-16 inset-x-6 bg-back shadow-lg shadow-gray-400 rounded-lg"},Pt=j(()=>s("div",{class:"text-center text-lg"},"\u9A86\u9A7C",-1)),qt={class:"flex flex-wrap justify-center my-2"},Lt=["onClick"],Ot={key:0},Nt=j(()=>s("div",{class:"text-center text-lg"},"\u9677\u9631",-1)),Rt={class:"flex flex-wrap justify-center my-2"},Vt={class:"absolute bottom-4 inset-x-0 flex justify-center"},Wt=st({__name:"Camel",setup(v){const c=["blue","green","red","yellow","purple"],g=["\u84DD\u9A86\u9A7C","\u7EFF\u9A86\u9A7C","\u7EA2\u9A86\u9A7C","\u9EC4\u9A86\u9A7C","\u7D2B\u9A86\u9A7C"],A=["","+1","-1"],d=[5,3,2],a=k([]),C=k([]),_=k([]),N=k([]),R=k(0),P=k([]),V=k([]);function W(){a.value=[];for(let e=0;e<5;e++)a.value.push({id:e,position:0,top:99,bottom:99});C.value=[],_.value=[]}function X(){confirm("\u786E\u5B9A\u6E05\u7A7A\u72B6\u6001\u5417\uFF1F")&&W()}function z(e,t,o){if(o===0)return e;e[t].bottom=99;for(let u of e)if(u.top===t){u.top=99;break}let n=e[t].position+o;if(_.value[n]===1&&(n+=1),_.value[n]===2){e[t].position=n-1;let u=t;for(;;)if(e[u].top!==99)u=e[u].top,e[u].position=e[t].position;else{for(let r=0;r<e.length;r++)if(e[r].position===e[t].position&&e[r].bottom===99&&r!==t){e[u].top=r,e[r].bottom=u;break}break}}else{e[t].position=n;for(let r=0;r<e.length;r++)if(e[r].position===e[t].position&&e[r].top===99&&r!==t){e[r].top=t,e[t].bottom=r;break}let u=t;for(;e[u].top!==99;)u=e[u].top,e[u].position=e[t].position}return e}function F(e,t){a.value=z(a.value,e,t)}function q(e,t){let o=0;for(;;){if(e[t].bottom===99)return o;t=e[t].bottom,o++}}function Y(e){return e.sort((t,o)=>q(e,o.id)-q(e,t.id)).sort((t,o)=>o.position-t.position).map(t=>t.id)}function Z(){const e=[1,2,3],t=[...C.value],o=new Array(t.length).fill(0),n=a.value.length,u=[];for(let p=0;p<n;p++)u.push(new Array(n).fill(0));if(t.length===0){const p=a.value.map(h=>({...h}));Y(p).forEach((h,J)=>{u[J][h]+=1})}else Q(t,0,p=>{U(e,o,0,y=>{let h=a.value.map(B=>({...B}));for(let B=0;B<p.length;B++){const T=p[B],ot=y[B];if(h=z(h,T,ot),h[T].position>15)break}Y(h).forEach((B,T)=>{u[T][B]+=1})})});const r=[1,3,18,162,1944,29160];N.value=u,R.value=r[t.length],P.value=u.map(p=>p.map(y=>y/r[t.length]*100)),I()}function I(){const e=a.value.length,t=[];for(let o=0;o<e;o++)t.push(new Array(d.length).fill(0));P.value.forEach((o,n)=>{o.forEach((u,r)=>{const p=u/100;if(n===0)for(let y in d)t[r][y]+=d[y]*p;else if(n===1)for(let y in d)t[r][y]+=p;else for(let y in d)t[r][y]-=p})}),V.value=t}W(),F(0,1),F(1,2),F(2,1),F(3,3),F(4,2),C.value=[2],_.value[4]=2;const D=k(!1),S=k(!1),M=k(!1),f=k(!1);let b=0;async function tt(){S.value=!0,Z()}function G(e){!e||(b=e,D.value=!0)}function H(e){if(D.value=!1,e===99){for(let t of a.value)t.position===b&&(t.position=0,t.top=99,t.bottom=99);return}if(M.value){const t=a.value[e];t.top!==99&&(a.value[t.top].bottom=t.bottom),t.bottom!==99&&(a.value[t.bottom].top=t.top),a.value[e].position=0,a.value[e].top=99,a.value[e].bottom=99}else if(b<a.value[e].position){alert("\u4E0D\u80FD\u5F80\u56DE\u79FB\u52A8");return}F(e,b-a.value[e].position),b=0}function L(e){e!=0&&(_.value[b+1]||_.value[b-1])||(D.value=!1,_.value[b]=e,b=0)}function et(e){C.value.includes(e)?C.value=C.value.filter(t=>t!==e):C.value.push(e)}return(e,t)=>(i(),l(x,null,[at,s("div",rt,[s("div",vt,[(i(),l(x,null,w(16,o=>s("div",{class:"w-24 h-24 md:w-16 md:h-16 border border-black px-2",onClick:n=>G(o-1)},[K(E(o-1)+" ",1),_.value[o-1]?(i(),l("div",{key:0,class:m(["mt-3 text-lg text-center",`text-${c[_.value[o-1]]}`])}," \u9677\u9631 "+E(A[_.value[o-1]]),3)):$("",!0)],8,ct)),64)),(i(!0),l(x,null,w(a.value,(o,n)=>(i(),l(x,null,[o.position!==0?(i(),l("div",{key:0,class:m(["absolute left-12",`text-${c[n]}`]),style:ut({top:4.2+a.value[n].position*6-q(a.value,n)+"rem"}),onClick:u=>G(o.position)},E(g[n]),15,ft)):$("",!0)],64))),256))])]),s("div",{class:"fixed right-4 top-14 my-button error w-24 my-2",onClick:X},"\u6062\u590D\u521D\u59CB\u72B6\u6001"),s("div",dt,[s("div",pt,[s("div",_t,[s("div",{class:m(["mx-2 text-xl decoration-4 underline-offset-4",M.value&&"underline"]),onClick:t[0]||(t[0]=o=>M.value=!0)},"\u8BBE\u7F6E\u6A21\u5F0F ",2),s("div",{class:m(["mx-2 text-xl decoration-4 underline-offset-4",!M.value&&"underline"]),onClick:t[1]||(t[1]=o=>M.value=!1)},"\u524D\u8FDB\u6A21\u5F0F ",2)]),s("div",bt,[(i(!0),l(x,null,w(a.value,(o,n)=>(i(),l("div",{class:m(["w-16 h-16 rounded-lg mb-2 mx-1",`bg-${c[n]} `+(!C.value.includes(n)&&"opacity-20")]),onClick:u=>et(n)},null,10,xt))),256))]),s("div",{class:"my-button sub w-32 mb-2",onClick:t[2]||(t[2]=o=>S.value=!0)},"\u67E5\u770B\u7ED3\u679C"),s("div",{class:"my-button w-32",onClick:tt},"\u8BA1\u7B97")])]),S.value?(i(),l("div",yt,[f.value?$("",!0):(i(),l("div",kt,"\u80DC\u7387")),f.value?(i(),l("div",gt,"\u51FA\u73B0\u9891\u6B21")):$("",!0),s("div",At,[s("div",wt,[s("div",mt,[s("div",Et,E(f.value?R.value:""),1),(i(),l(x,null,w(g,(o,n)=>s("div",{class:m(["item",`text-${c[n]}`])},E(o),3)),64))]),(i(!0),l(x,null,w(f.value?N.value:P.value,(o,n)=>(i(),l("div",Ct,[s("div",ht,"\u7B2C"+E(n+1)+"\u540D",1),(i(!0),l(x,null,w(o,u=>(i(),l("div",Bt,[s("span",{class:m([u===0&&"opacity-50 ",u===Math.max(...o)&&"text-red"])},[s("span",{class:m(!f.value&&"text-xl")},E(u.toFixed(0)),3),f.value?$("",!0):(i(),l("span",$t,"%"))],2)]))),256))]))),256))])]),Ft,s("div",Dt,[s("div",Mt,[s("div",null,[(i(),l(x,null,w(d,o=>s("div",St,"\u6295\u6CE8"+E(o),1)),64))]),(i(!0),l(x,null,w(V.value,(o,n)=>(i(),l("div",null,[(i(!0),l(x,null,w(o,u=>(i(),l("div",{class:m(["item",[u<0&&"opacity-50 ",u>1&&"text-red"]])},E(+u.toFixed(2)),3))),256))]))),256))])]),s("div",Tt,[s("div",{class:"my-button w-32",onMousedown:t[3]||(t[3]=o=>f.value=!f.value),onMouseup:t[4]||(t[4]=o=>f.value=!f.value),onTouchstart:t[5]||(t[5]=o=>f.value=!f.value),onTouchend:t[6]||(t[6]=o=>f.value=!f.value)},"\u5207\u6362\u8868\u683C",32),s("div",{class:"my-button sub w-32",onClick:t[7]||(t[7]=o=>S.value=!1)},"\u5173\u95ED")])])):$("",!0),D.value?(i(),l("div",jt,[s("div",null,[Pt,s("div",qt,[(i(!0),l(x,null,w(a.value,(o,n)=>(i(),l("div",{key:n,class:m(["square",`text-${c[n]}`]),onClick:u=>H(n)},E(g[n]),11,Lt))),128)),s("div",{class:"square",onClick:t[8]||(t[8]=o=>H(99))}," \u6E05\u7A7A")])]),!a.value.map(o=>o.position).includes(O(b))&&!_.value[O(b)+1]&&!_.value[O(b)-1]?(i(),l("div",Ot,[Nt,s("div",Rt,[s("div",{class:"square text-red",onClick:t[9]||(t[9]=o=>L(2))},"\u9677\u9631 -1"),s("div",{class:"square text-green",onClick:t[10]||(t[10]=o=>L(1))},"\u9677\u9631 +1"),s("div",{class:"square",onClick:t[11]||(t[11]=o=>L(0))}," \u6E05\u7A7A")])])):$("",!0),s("div",Vt,[s("div",{class:"my-button sub w-32",onClick:t[12]||(t[12]=o=>D.value=!1)},"\u53D6\u6D88")])])):$("",!0)],64))}});const Yt=it(Wt,[["__scopeId","data-v-2d3fb534"]]);export{Yt as default};
