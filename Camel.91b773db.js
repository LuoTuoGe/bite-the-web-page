import{d as ot,r as k,c as l,a as st,b as s,F as x,e as w,n as m,f as $,t as E,u as L,o as i,H as ut,g as nt,h as lt,p as it,i as at,_ as rt}from"./index.757c4729.js";function K(v,c,g){if(c===v.length-1){g(v);return}else for(let A=c;A<v.length;A++){const d=v[c];v[c]=v[A],v[A]=d,K(v,c+1,g),v[A]=v[c],v[c]=d}}function Q(v,c,g,A){for(let d=0;d<v.length;d++)c[g]=v[d],g===c.length-1?A(c):Q(v,c,g+1,A)}const N=v=>(it("data-v-871fc394"),v=v(),at(),v),vt={class:"container p-4"},ct={class:"mx-auto relative"},ft=["onClick"],dt=["onClick"],pt={class:"fixed inset-y-0 right-0 2xl:right-96"},_t={class:"absolute right-4 bottom-24"},bt={class:"flex flex-col items-center"},xt={class:"flex"},yt={class:"my-10 w-56 flex flex-wrap justify-center"},kt=["onClick"],gt={key:0,class:"fixed bottom-0 right-0 left-0 top-24 bg-back border-t border-black"},At={class:"container mx-auto"},wt={key:0,class:"mx-6 my-2"},mt={key:1,class:"mx-6 my-2"},Et={class:"my-table flex justify-center"},ht={class:"border-t border-l border-black"},Ct={class:"flex"},Bt={class:"item"},$t={class:"flex"},Ft={class:"item"},Dt={class:"item"},Mt={key:0,class:"text-xs"},St=N(()=>s("div",{class:"mx-6 my-2"},"\u5361\u724C\u6536\u76CA",-1)),Tt={class:"my-table flex justify-center"},Pt={class:"flex border-t border-l border-black"},jt={class:"item"},qt={class:"mt-4 flex justify-around"},Lt={key:1,class:"p-4 fixed inset-y-16 inset-x-6 bg-back shadow-lg shadow-gray-400 rounded-lg"},Nt=N(()=>s("div",{class:"text-center text-lg"},"\u9A86\u9A7C",-1)),Ot={class:"flex flex-wrap justify-center my-2"},Rt=["onClick"],Vt={key:0},Wt=N(()=>s("div",{class:"text-center text-lg"},"\u9677\u9631",-1)),zt={class:"flex flex-wrap justify-center my-2"},Ht={class:"absolute bottom-4 inset-x-0 flex justify-center"},Yt=ot({__name:"Camel",setup(v){const c=["blue","green","red","yellow","purple"],g=["\u84DD\u9A86\u9A7C","\u7EFF\u9A86\u9A7C","\u7EA2\u9A86\u9A7C","\u9EC4\u9A86\u9A7C","\u7D2B\u9A86\u9A7C"],A=["","+1","-1"],d=[5,3,2],a=k([]),h=k([]),_=k([]),O=k([]),R=k(0),P=k([]),V=k([]);function W(){a.value=[];for(let e=0;e<5;e++)a.value.push({id:e,position:0,top:99,bottom:99});h.value=[],_.value=[]}function U(){confirm("\u786E\u5B9A\u6E05\u7A7A\u72B6\u6001\u5417\uFF1F")&&W()}function z(e,t,o){if(o===0)return e;e[t].bottom=99;for(let u of e)if(u.top===t){u.top=99;break}let n=e[t].position+o;if(_.value[n]===1&&(n+=1),_.value[n]===2){e[t].position=n-1;let u=t;for(;;)if(e[u].top!==99)u=e[u].top,e[u].position=e[t].position;else{for(let r=0;r<e.length;r++)if(e[r].position===e[t].position&&e[r].bottom===99&&r!==t){e[u].top=r,e[r].bottom=u;break}break}}else{e[t].position=n;for(let r=0;r<e.length;r++)if(e[r].position===e[t].position&&e[r].top===99&&r!==t){e[r].top=t,e[t].bottom=r;break}let u=t;for(;e[u].top!==99;)u=e[u].top,e[u].position=e[t].position}return e}function F(e,t){a.value=z(a.value,e,t)}function j(e,t){let o=0;for(;;){if(e[t].bottom===99)return o;t=e[t].bottom,o++}}function H(e){return e.sort((t,o)=>j(e,o.id)-j(e,t.id)).sort((t,o)=>o.position-t.position).map(t=>t.id)}function X(){const e=[1,2,3],t=[...h.value],o=new Array(t.length).fill(0),n=a.value.length,u=[];for(let p=0;p<n;p++)u.push(new Array(n).fill(0));if(t.length===0){const p=a.value.map(C=>({...C}));H(p).forEach((C,J)=>{u[J][C]+=1})}else K(t,0,p=>{Q(e,o,0,y=>{let C=a.value.map(B=>({...B}));for(let B=0;B<p.length;B++){const T=p[B],et=y[B];if(C=z(C,T,et),C[T].position>15)break}H(C).forEach((B,T)=>{u[T][B]+=1})})});const r=[1,3,18,162,1944,29160];O.value=u,R.value=r[t.length],P.value=u.map(p=>p.map(y=>y/r[t.length]*100)),Z()}function Z(){const e=a.value.length,t=[];for(let o=0;o<e;o++)t.push(new Array(d.length).fill(0));P.value.forEach((o,n)=>{o.forEach((u,r)=>{const p=u/100;if(n===0)for(let y in d)t[r][y]+=d[y]*p;else if(n===1)for(let y in d)t[r][y]+=p;else for(let y in d)t[r][y]-=p})}),V.value=t}W(),F(0,1),F(1,2),F(2,1),F(3,3),F(4,2),h.value=[2],_.value[4]=2;const D=k(!1),S=k(!1),M=k(!1),f=k(!1);let b=0;async function I(){S.value=!0,X()}function Y(e){!e||(b=e,D.value=!0)}function G(e){if(D.value=!1,e===99){for(let t of a.value)t.position===b&&(t.position=0,t.top=99,t.bottom=99);return}if(M.value){const t=a.value[e];t.top!==99&&(a.value[t.top].bottom=t.bottom),t.bottom!==99&&(a.value[t.bottom].top=t.top),a.value[e].position=0,a.value[e].top=99,a.value[e].bottom=99}else if(b<a.value[e].position){alert("\u4E0D\u80FD\u5F80\u56DE\u79FB\u52A8");return}F(e,b-a.value[e].position),b=0}function q(e){e!=0&&(_.value[b+1]||_.value[b-1])||(D.value=!1,_.value[b]=e,b=0)}function tt(e){h.value.includes(e)?h.value=h.value.filter(t=>t!==e):h.value.push(e)}return(e,t)=>(i(),l(x,null,[st(ut,{title:"\u9A86\u9A7C\u54E5\u8BA1\u7B97\u5668"}),s("div",vt,[s("div",ct,[(i(),l(x,null,w(16,o=>s("div",{class:"w-24 h-24 border border-black px-2",onClick:n=>Y(o-1)},[nt(E(o-1)+" ",1),_.value[o-1]?(i(),l("div",{key:0,class:m(["mt-3 text-lg text-center",`text-${c[_.value[o-1]]}`])}," \u9677\u9631 "+E(A[_.value[o-1]]),3)):$("",!0)],8,ft)),64)),(i(!0),l(x,null,w(a.value,(o,n)=>(i(),l(x,null,[o.position!==0?(i(),l("div",{key:0,class:m(["absolute left-12",`text-${c[n]}`]),style:lt({top:4.2+a.value[n].position*6-j(a.value,n)+"rem"}),onClick:u=>Y(o.position)},E(g[n]),15,dt)):$("",!0)],64))),256))])]),s("div",pt,[s("div",{class:"absolute right-4 top-14 my-button red w-24 my-2",onClick:U},"\u6062\u590D\u521D\u59CB\u72B6\u6001"),s("div",_t,[s("div",bt,[s("div",xt,[s("div",{class:m(["mx-2 text-xl decoration-4 underline-offset-4",M.value&&"underline"]),onClick:t[0]||(t[0]=o=>M.value=!0)},"\u8BBE\u7F6E\u6A21\u5F0F ",2),s("div",{class:m(["mx-2 text-xl decoration-4 underline-offset-4",!M.value&&"underline"]),onClick:t[1]||(t[1]=o=>M.value=!1)},"\u524D\u8FDB\u6A21\u5F0F ",2)]),s("div",yt,[(i(!0),l(x,null,w(a.value,(o,n)=>(i(),l("div",{class:m(["w-16 h-16 rounded-lg mb-2 mx-1",`bg-${c[n]} `+(!h.value.includes(n)&&"opacity-20")]),onClick:u=>tt(n)},null,10,kt))),256))]),s("div",{class:"my-button sub w-32 mb-2",onClick:t[2]||(t[2]=o=>S.value=!0)},"\u67E5\u770B\u7ED3\u679C"),s("div",{class:"my-button w-32",onClick:I},"\u8BA1\u7B97")])])]),S.value?(i(),l("div",gt,[s("div",At,[f.value?$("",!0):(i(),l("div",wt,"\u80DC\u7387")),f.value?(i(),l("div",mt,"\u51FA\u73B0\u9891\u6B21")):$("",!0),s("div",Et,[s("div",ht,[s("div",Ct,[s("div",Bt,E(f.value?R.value:""),1),(i(),l(x,null,w(g,(o,n)=>s("div",{class:m(["item",`text-${c[n]}`])},E(o),3)),64))]),(i(!0),l(x,null,w(f.value?O.value:P.value,(o,n)=>(i(),l("div",$t,[s("div",Ft,"\u7B2C"+E(n+1)+"\u540D",1),(i(!0),l(x,null,w(o,u=>(i(),l("div",Dt,[s("span",{class:m([u===0&&"opacity-50 ",u===Math.max(...o)&&"text-red"])},[s("span",{class:m(!f.value&&"text-xl")},E(u.toFixed(0)),3),f.value?$("",!0):(i(),l("span",Mt,"%"))],2)]))),256))]))),256))])]),St,s("div",Tt,[s("div",Pt,[s("div",null,[(i(),l(x,null,w(d,o=>s("div",jt,"\u6295\u6CE8"+E(o),1)),64))]),(i(!0),l(x,null,w(V.value,(o,n)=>(i(),l("div",null,[(i(!0),l(x,null,w(o,u=>(i(),l("div",{class:m(["item",[u<0&&"opacity-50 ",u>1&&"text-red"]])},E(+u.toFixed(2)),3))),256))]))),256))])]),s("div",qt,[s("div",{class:"my-button w-32",onMousedown:t[3]||(t[3]=o=>f.value=!f.value),onMouseup:t[4]||(t[4]=o=>f.value=!f.value),onTouchstart:t[5]||(t[5]=o=>f.value=!f.value),onTouchend:t[6]||(t[6]=o=>f.value=!f.value)},"\u5207\u6362\u8868\u683C ",32),s("div",{class:"my-button sub w-32",onClick:t[7]||(t[7]=o=>S.value=!1)},"\u5173\u95ED")])])])):$("",!0),D.value?(i(),l("div",Lt,[s("div",null,[Nt,s("div",Ot,[(i(!0),l(x,null,w(a.value,(o,n)=>(i(),l("div",{key:n,class:m(["square",`text-${c[n]}`]),onClick:u=>G(n)},E(g[n]),11,Rt))),128)),s("div",{class:"square",onClick:t[8]||(t[8]=o=>G(99))}," \u6E05\u7A7A")])]),!a.value.map(o=>o.position).includes(L(b))&&!_.value[L(b)+1]&&!_.value[L(b)-1]?(i(),l("div",Vt,[Wt,s("div",zt,[s("div",{class:"square text-red",onClick:t[9]||(t[9]=o=>q(2))},"\u9677\u9631 -1"),s("div",{class:"square text-green",onClick:t[10]||(t[10]=o=>q(1))},"\u9677\u9631 +1"),s("div",{class:"square",onClick:t[11]||(t[11]=o=>q(0))}," \u6E05\u7A7A")])])):$("",!0),s("div",Ht,[s("div",{class:"my-button sub w-32",onClick:t[12]||(t[12]=o=>D.value=!1)},"\u53D6\u6D88")])])):$("",!0)],64))}});const Jt=rt(Yt,[["__scopeId","data-v-871fc394"]]);export{Jt as default};
