import{d as I,r as g,c as r,a as s,F as _,b as y,n as x,e as D,u as L,o as c,f as N,t as A,g as tt,p as ot,h as et,_ as st}from"./index.7a7bd390.js";function W(u,n,f){if(n===u.length-1){f(u);return}else for(let a=n;a<u.length;a++){const p=u[n];u[n]=u[a],u[a]=p,W(u,n+1,f),u[a]=u[n],u[n]=p}}function z(u,n,f,a){for(let p=0;p<u.length;p++)n[f]=u[p],f===n.length-1?a(n):z(u,n,f+1,a)}const $=u=>(ot("data-v-5b823b3b"),u=u(),et(),u),nt=$(()=>s("div",{class:"container flex justify-between items-center text-lg py-2 border-b border-black"},[s("div",{class:"w-10 pl-4"},[s("span",{class:"material-icons text-lg"},"arrow_back_ios")]),N(" \u9A86\u9A7C\u54E5\u8BA1\u7B97\u5668 "),s("div",{class:"w-10"})],-1)),it={class:"container p-4"},lt={class:"mx-auto relative"},ut=["onClick"],at=["onClick"],rt={class:"fixed right-4 bottom-4"},ct={class:"flex flex-col items-center"},vt={class:"flex"},ft={class:"my-10 w-56 flex flex-wrap justify-center"},dt=["onClick"],pt={key:0,class:"fixed bottom-0 right-0 left-0 top-32 bg-back border-t border-black"},_t=$(()=>s("div",{class:"m-4"},"\u80DC\u7387",-1)),bt={class:"flex justify-center"},xt={class:"border-t border-l border-black"},kt={class:"flex"},gt=$(()=>s("div",{class:"item"},null,-1)),yt={class:"flex"},At={class:"item"},wt={class:"item text-xl"},$t=$(()=>s("span",{class:"text-xs"},"%",-1)),mt={class:"absolute bottom-4 inset-x-0 flex justify-center"},Bt={key:1,class:"p-4 fixed inset-y-32 inset-x-6 bg-back shadow-lg shadow-gray-400 rounded-lg"},Ct=$(()=>s("div",{class:"text-center text-lg"},"\u9A86\u9A7C",-1)),Dt={class:"flex flex-wrap my-2"},Et=["onClick"],Ft={key:0},ht=$(()=>s("div",{class:"text-center text-lg"},"\u9677\u9631",-1)),Mt={class:"flex flex-wrap my-2"},St={class:"absolute bottom-4 inset-x-0 flex justify-center"},jt=I({__name:"Camel",setup(u){const n=g([]),f=g([]),a=g([]),p=g([]);function G(){for(let t=0;t<5;t++)n.value.push({id:t,position:0,top:99,bottom:99})}function O(t,o,e){if(e===0)return t;t[o].bottom=99;for(let l of t)if(l.top===o){l.top=99;break}let i=t[o].position+e;if(a.value[i]===1&&(i+=1),a.value[i]===2){t[o].position=i-1;let l=o;for(;;)if(t[l].top!==99)l=t[l].top,t[l].position=t[o].position;else{for(let v=0;v<t.length;v++)if(t[v].position===t[o].position&&t[v].bottom===99&&v!==o){t[l].top=v,t[v].bottom=l;break}break}}else{t[o].position=i;for(let v=0;v<t.length;v++)if(t[v].position===t[o].position&&t[v].top===99&&v!==o){t[v].top=o,t[o].bottom=v;break}let l=o;for(;t[l].top!==99;)l=t[l].top,t[l].position=t[o].position}return t}function w(t,o){n.value=O(n.value,t,o)}function S(t,o){let e=0;for(;;){if(t[o].bottom===99)return e;o=t[o].bottom,e++}}function H(t){return t.sort((o,e)=>S(t,e.id)-S(t,o.id)).sort((o,e)=>e.position-o.position).map(o=>o.id)}async function J(){const t=new Promise((o,e)=>{const i=[1,2,3],l=[...f.value],v=new Array(l.length).fill(0),V=n.value.length,F=[];for(let k=0;k<V;k++)F.push(new Array(V).fill(0));W(l,0,k=>{z(i,v,0,q=>{let h=n.value.map(b=>({...b}));for(let b=0;b<k.length;b++){const M=k[b],Z=q[b];if(h=O(h,M,Z),h[M].position>15)break}H(h).forEach((b,M)=>{F[M][b]+=1})})});const X=[3,18,162,1944,29160];console.log(F);const Y=F.map(k=>k.map(q=>+(q/X[l.length-1]*100).toFixed(0)));o(Y)});p.value=await t}G(),w(0,1),w(1,2),w(2,1),w(3,3),w(4,2),f.value=[2],a.value[4]=2;const m=["blue","green","red","yellow","purple"],j=["\u84DD\u9A86\u9A7C","\u7EFF\u9A86\u9A7C","\u7EA2\u9A86\u9A7C","\u9EC4\u9A86\u9A7C","\u7D2B\u9A86\u9A7C"],K=["","+1","-1"],B=g(!1),C=g(!1);let d=0;const E=g(!1);async function Q(){E.value=!0,await J()}function R(t){!t||(d=t,B.value=!0)}function T(t){if(B.value=!1,t===99){for(let o of n.value)o.position===d&&(o.position=0,o.top=99,o.bottom=99);return}if(C.value){const o=n.value[t];o.top!==99&&(n.value[o.top].bottom=o.bottom),o.bottom!==99&&(n.value[o.bottom].top=o.top),n.value[t].position=0,n.value[t].top=99,n.value[t].bottom=99}else if(d<n.value[t].position){alert("\u4E0D\u80FD\u5F80\u56DE\u79FB\u52A8");return}w(t,d-n.value[t].position),d=0}function P(t){t!=0&&(a.value[d+1]||a.value[d-1])||(B.value=!1,a.value[d]=t,d=0)}function U(t){f.value.includes(t)?f.value=f.value.filter(o=>o!==t):f.value.push(t)}return(t,o)=>(c(),r(_,null,[nt,s("div",it,[s("div",lt,[(c(),r(_,null,y(16,e=>s("div",{class:"w-24 h-24 md:w-16 md:h-16 border border-black px-2",onClick:i=>R(e-1)},[N(A(e-1)+" ",1),a.value[e-1]?(c(),r("div",{key:0,class:x(["mt-3 text-lg text-center",`text-${m[a.value[e-1]]}`])}," \u9677\u9631 "+A(K[a.value[e-1]]),3)):D("",!0)],8,ut)),64)),(c(!0),r(_,null,y(n.value,(e,i)=>(c(),r(_,null,[e.position!==0?(c(),r("div",{key:0,class:x(["absolute left-12",`text-${m[i]}`]),style:tt({top:4.2+n.value[i].position*6-S(n.value,i)+"rem"}),onClick:l=>R(e.position)},A(j[i]),15,at)):D("",!0)],64))),256))])]),s("div",rt,[s("div",ct,[s("div",vt,[s("div",{class:x(["mx-2 text-xl decoration-4 underline-offset-4",C.value&&"underline"]),onClick:o[0]||(o[0]=e=>C.value=!0)},"\u8BBE\u7F6E\u6A21\u5F0F ",2),s("div",{class:x(["mx-2 text-xl decoration-4 underline-offset-4",!C.value&&"underline"]),onClick:o[1]||(o[1]=e=>C.value=!1)},"\u524D\u8FDB\u6A21\u5F0F ",2)]),s("div",ft,[(c(!0),r(_,null,y(n.value,(e,i)=>(c(),r("div",{class:x(["w-16 h-16 rounded-lg mb-2 mx-1",`bg-${m[i]} `+(!f.value.includes(i)&&"opacity-20")]),onClick:l=>U(i)},null,10,dt))),256))]),s("div",{class:"my-button sub w-32 mb-2",onClick:o[2]||(o[2]=e=>E.value=!0)},"\u67E5\u770B\u7ED3\u679C"),s("div",{class:"my-button w-32",onClick:Q},"\u8BA1\u7B97")])]),E.value?(c(),r("div",pt,[_t,s("div",bt,[s("div",xt,[s("div",kt,[gt,(c(),r(_,null,y(j,(e,i)=>s("div",{class:x(["item",`text-${m[i]}`])},A(e),3)),64))]),(c(!0),r(_,null,y(p.value,(e,i)=>(c(),r("div",yt,[s("div",At,"\u7B2C"+A(i+1)+"\u540D",1),(c(!0),r(_,null,y(e,l=>(c(),r("div",wt,[s("span",{class:x([l===0&&"opacity-50 ",l===Math.max(...e)&&"text-red"])},[N(A(l),1),$t],2)]))),256))]))),256))])]),s("div",mt,[s("div",{class:"my-button sub w-32",onClick:o[3]||(o[3]=e=>E.value=!1)},"\u5173\u95ED")])])):D("",!0),B.value?(c(),r("div",Bt,[s("div",null,[Ct,s("div",Dt,[(c(!0),r(_,null,y(n.value,(e,i)=>(c(),r("div",{key:i,class:x(["square",`text-${m[i]}`]),onClick:l=>T(i)},A(j[i]),11,Et))),128)),s("div",{class:"square",onClick:o[4]||(o[4]=e=>T(99))}," \u6E05\u7A7A")])]),!n.value.map(e=>e.position).includes(L(d))&&!a.value[L(d)+1]&&!a.value[L(d)-1]?(c(),r("div",Ft,[ht,s("div",Mt,[s("div",{class:"square text-red",onClick:o[5]||(o[5]=e=>P(2))},"\u9677\u9631 -1"),s("div",{class:"square text-green",onClick:o[6]||(o[6]=e=>P(1))},"\u9677\u9631 +1"),s("div",{class:"square",onClick:o[7]||(o[7]=e=>P(0))}," \u6E05\u7A7A")])])):D("",!0),s("div",St,[s("div",{class:"my-button sub w-32",onClick:o[8]||(o[8]=e=>B.value=!1)},"\u53D6\u6D88")])])):D("",!0)],64))}});const Lt=st(jt,[["__scopeId","data-v-5b823b3b"]]);export{Lt as default};
